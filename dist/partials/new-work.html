<div class="container">
  <div class="row">
    <div class="col-lg-10">
      <h1 class="page-header">Work Editor
        <small>Add to the art!</small>
      </h1>
    </div>
  </div>
  <div *ngIf="isLoggedIn" class="row">
    <div class="col-md-6">
      <form (ngSubmit)="createNewWork()">
        <input *ngIf ='!oldWork' type="file" (change)="changeListener($event)"/>
        <br>
        <div [hidden]='!showProgress' class="progress">
          <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="width: {{progressNum}}%;">
            <span class="sr-only">{{progressNum}}% Complete</span>
          </div>
        </div>
        <div class="form-group">
          <label for="Name">Name</label>
          <input type="text" class="form-control" placeholder="Enter name" required [(ngModel)]="work.name" ngControl="fName" #name="ngForm">
        </div>
        <div class="form-group">
          <label for="media">Media</label>
          <input type="text" class="form-control" placeholder="Enter media" required [(ngModel)]="work.media" ngControl="media" #name="ngForm">
        </div>
        <div class="form-group">
          <label for="description">Description</label>
          <input type="text" class="form-control" placeholder="Enter description" [(ngModel)]="work.description" ngControl="description" #name="ngForm">
        </div>
        <div class="form-group">
          <label for="description">Price (American $)</label>
          <input type="number" class="form-control" placeholder="Enter price" required [(ngModel)]="work.price" ngControl="price" #name="ngForm">
        </div>
        <div class="form-group">
          <label for="length">Length (in)</label>
          <input type="number" class="form-control" placeholder="Enter length" required [(ngModel)]="work.length" ngControl="length" #name="ngForm">
        </div>
        <div class="form-group">
          <label for="width">Width (in)</label>
          <input type="number" class="form-control" placeholder="Enter width" required [(ngModel)]="work.width" ngControl="width" #name="ngForm">
        </div>
        <div class="form-group">
          <label for="depth">Depth (in) (0 if 2D)</label>
          <input type="number" class="form-control" placeholder="Enter depth" required [(ngModel)]="work.depth" ngControl="depth" #name="ngForm">
        </div>
        <button [hidden]='showProgress' type="submit" class="btn btn-default btn-block">Submit Work</button>
      </form>
      <button (click)="clearForm()" class="btn btn-default">Clear Form</button>
    </div>

    <div class="col-md-4">
      <div *ngIf="display">
          Original Image
          <img style="max-height:200px" class="img-responsive center-block" src="{{img.src}}"/>
        <br>
        Edited Image
        <button (click)="rotate()" class="btn btn-default">Rotate</button>
      </div>
      <canvas #imageCanvas width = "400" height = "400"></canvas>
      <canvas #imageCanvas1 width = "400" height = "400"></canvas>
      <canvas #imageCanvas2 width = "400" height = "400"></canvas>
      <canvas #imageCanvas3 width = "400" height = "400"></canvas>
      <br>
      <p>ArtLike is a community of artists and art lovers. We entrust you the user to sensor your own work. Please do not cross any lines.</p>
      {{message}}
    </div>
  </div>
  <div *ngIf="!isLoggedIn" class="row">
    Please log in to continue. If you don't have an account, click
    <a [routerLink]="['/NewUser']">Here</a>
  </div>
</div>
